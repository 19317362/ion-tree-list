<link type="text/css" rel="stylesheet" href="/lib/ion-tree-list/ion-tree-list.css"/>

<script type="text/ng-template" id="items_renderer">
    <ion-item class="item depth-{{item.depth}}" ng-click="collapse(item)" >
        <span class="symbol" ng-if="item.tree">
            <i ng-class="item.tree.collapsed ? 'icon ion-arrow-right-b' : 'icon ion-arrow-down-b'" style="padding-right: 5px;"></i>
        </span>
        {{item.name}}
    </ion-item>
    <ion-list ng-model="item.tree" ng-repeat="item in item.tree" ng-hide="item.collapsed" ng-include="'items_renderer'">
    </ion-list>
</script>

<div class="list" ng-model="items">
    <span ng-repeat="item in items" ng-include="'items_renderer'"></span>
</div>